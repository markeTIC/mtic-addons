<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>

        <!-- Orden de mantenimiento views -->
        <record id="maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de mantenimiento</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento 
                </p>
                <p>
                    Gestión de órdenes de mantenimiento de SIGMa 2.
                </p>
            </field>
        </record>

        <record id="maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asigned_employee_id"/>
                    <field name="asset_id"/>
                    <field name="description"/>
                    <field name="origin_employee_id"/>
                    <field name="work_shift"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>
		
		<record id="maintenance_order_form_view" model="ir.ui.view">
            <field name="name">Formulario orden de mantenimiento</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <form string="Orden de mantenimiento">
                    <header>
                        <button name="asset_stop" string="Máquina parada" type="object" attrs="{'invisible':['|', ('order_type_id_type', '!=', 'C'), ('state', 'not in', 'pending')]}"/>
                        <button name="asset_start" string="Fin de avería" class="oe_highlight" type="object" attrs="{'invisible':['|', ('order_type_id_type', '!=', 'C'), ('state', 'not in', 'stop')]}"/>
                        <button name="reset_order" string="Pendiente" type="object" states="planned,open" groups="sigma2.supervisor_group"/>
                        <button name="open_order" string="Abrir" type="object" states="pending,planned" class="oe_highlight" groups="sigma2.user_group"/>
                        <button name="parts_fault_order" string="Faltan repuestos" type="object" states="planned,open" groups="sigma2.user_group"/>
                        <button name="scale_order" string="Externa" type="object" states="planned,open" groups="sigma2.user_group"/>
                        <button name="reopen_order" string="En curso" type="object" states="parts,scaled,finished,closed,canceled" groups="sigma2.user_group"/>
                        <button name="finish_order" string="Finalizar" type="object" states="open,parts" class="oe_highlight" groups="sigma2.user_group"/>
                        <button name="validate_order" string="Validar" type="object" states="finished" class="oe_highlight" groups="sigma2.supervisor_group"/>
                        <button name="cancel_order" string="Cancelar" type="object" states="pending,planned,open,parts,scaled,finished,closed" groups="sigma2.supervisor_group"/>
                        <field name="state" widget="statusbar" statusbar_visible="pending,stop,planned,open,finished,closed,canceled" statusbar_colors='{"stop":"red","parts":"red","scaled":"red"}'/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                        </div>
                        <div class="oe_title" style="width: 25%%">
                            <h1>
                                <field name="display_name"/>
                            </h1>
                        </div>
                        <group colspan="4">
                            <field name="param_order_type_code" invisible="1"/>
                            <!-- field name="param_asset_id" invisible="0"/ -->
                            <field name="create_date" invisible="1"/>
                            <field name="order_type_id_type" invisible="1"/>
	                        <group>
	                            <field name="order_type_id" options="{'no_create': True}" attrs="{'invisible':[('param_order_type_code', '!=', False)]}"/>
			                    <field name="code" attrs="{'invisible':[('create_date', '!=', False)]}"/>
	                            <field name="origin_employee_id" options="{'no_create': True}"/>
                                <field name="origin_department_id" readonly="1"/>
	                            <field name="asset_level1" options="{'no_create': True}"/>
	                            <field name="asset_level2" options="{'no_create': True}"/>
	                            <field name="asset_level3" options="{'no_create': True}"/>
	                            <field name="asset_id" invisible="1"/>
	                        </group>
	                        <group>
	                            <field name="date"/>
	                            <field name="work_shift"/>
	                            <field name="priority"/>
                                <field name="speciality_id" options="{'no_create': True}"/>
	                            <field name="state_date" invisible="1"/>
	                            <field name="state_note" string="Motivo cancelación" attrs="{'invisible':[('state', '!=', 'canceled'), ('state', '!=', 'rejected')]}"/>
	                            <field name="action_planning_id" attrs="{'invisible':[('action_planning_id', '==', False)]}"/>
                                <field name="calibrator_id" options="{'no_create': True}" attrs="{'invisible':[('order_type_id_type', '!=', 'CAL')]}"/>
	                            <field name="calibration_date" attrs="{'invisible':[('order_type_id_type', '!=', 'CAL')]}"/>
	                            <field name="next_calibration_date" attrs="{'invisible':[('order_type_id_type', '!=', 'CAL')]}"/>
                                <field name="calibration_certificate_number" attrs="{'invisible':[('order_type_id_type', '!=', 'CAL')]}"/>
                                <field name="active" groups="sigma2.admin_group"/>
	                        </group>
                        </group>
                        <group colspan="4">
	                        <group>
                                <field name="description"/>
                            </group>
                        </group>
                        <notebook>
                        	 <page string="Trabajadores" attrs="{'invisible':[('create_date', '=', False)]}">
		                        <field name="worker_ids" nolabel="1">
		                        	<tree editable="bottom">
                                        <field name="active" invisible="1"/>
		                        		<field name="employee_id" options="{'no_create': True}"/>
		                        		<field name="start_date"/>
		                        		<field name="work_time"/>
		                        	</tree>
		                        </field>
                        	 </page>
                        	 <page string="Recambios" attrs="{'invisible':[('create_date', '=', False)]}">
		                        <field name="part_ids" nolabel="1">
		                        	<tree editable="bottom">
		                        		<field name="product_id" options="{'no_create': True}"/>
                                        <field name="description"/>
                                        <field name="qty"/>
		                        	</tree>
		                        </field>
                        	 </page>
                        	 <page string="Resultado" attrs="{'invisible':[('create_date', '=', False)]}">
		                        <group>
		                            <field name="solution_description" nolabel="1" placeholder="Resultado del trabajo" />
		                        </group>
		                        <group>
			                        <group>
			                            <field name="start_date"/>
			                            <field name="end_date"/>
			                        </group>
			                        <group>
			                            <field name="repair_time"/>
			                            <field name="stop_time"/>
			                            <field name="stop_time_rated" groups="sigma2.supervisor_group"/>
			                        </group>
		                        </group>
                        	 </page>
                        	 <page string="Notas" attrs="{'invisible':[('create_date', '=', False)]}">
		                        <group>
		                            <field name="notes" nolabel="1" placeholder="Notas" />
		                        </group>
                        	 </page>
                        </notebook>
                        <group>
	                        <group>
	                            <field name="asigned_employee_id" options="{'no_create': True}"/>
	                            <field name="planned_date"/>
	                        </group>
	                        <group>
	                            <field name="authorization_employee_id" options="{'no_create': True}"/>
	                            <field name="validation_employee_id" options="{'no_create': True}"/>
	                        </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="maintenance_order_search_view" model="ir.ui.view">
            <field name="name">sigma2.maintenance.order.search</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <search string="Orden de mantenimiento">
                    <field name="code" filter_domain="['|',('code','ilike',self),('preventive_barcode','ilike',self)]"/>
                    <field name="asset_level1"/>
                    <field name="asset_id"/>
                    <field name="origin_employee_id"/>
                    <field name="origin_department_id"/>
                    <field name="asigned_employee_id"/>
                    <separator/>
                    <filter string="Pendientes" name="filter_pending" domain="['|', ('state','=','pending'), ('state','=','stop')]"/>
                    <filter string="Planificadas" name="filter_planned" domain="[('state','=','planned')]"/>
                    <filter string="En curso" name="filter_open" domain="[('state','=','open')]"/>
                    <filter string="Pdte. repuestos" name="filter_parts" domain="[('state','=','parts')]"/>
                    <filter string="Pdte. terceros" name="filter_scaled" domain="[('state','=','scaled')]"/>
                    <filter string="Finalizadas" name="filter_finished" domain="[('state','=','finished')]"/>
                    <filter string="Cerradas" name="filter_closed" domain="[('state','=','closed')]"/>
                    <filter string="Canceladas" name="filter_canceled" domain="[('state','=','canceled')]"/>
                    <separator />
                    <filter string="Mis órdenes" name="filter_my_orders" domain="[('asigned_employee_id.user_id','=',uid)]"
                            help="Órdenes que tengo asignadas"/>
                    <filter string="Órdenes que no son mías" name="filter_not_my_orders" domain="[('asigned_employee_id.user_id','!=',uid)]"
                            help="Órdenes que están asignadas a otro trabajador o sin asignar"/>
                    <filter string="Sin asignar" name="filter_unassigned" domain="[('asigned_employee_id','=', False)]"
                            help="Órdenes sin asignar"/>
                    <separator />
                    <filter string="Preventivo" name="filter_preventive" domain="[('order_type_id.code','=','P')]"/>
                    <filter string="Correctivo" name="filter_corrective" domain="[('order_type_id.code','=','C')]"/>
                    <filter string="Mejora" name="filter_improvement" domain="[('order_type_id.code','=','M')]"/>
                    <filter string="Legal" name="filter_regulatory" domain="[('order_type_id.code','=','L')]"/>
                    <filter string="Calibración" name="filter_calibration" domain="[('order_type_id.code','=','CAL')]"/>
                    <group expand="0" string="Agrupar por">
                    	<filter name="group_by_asset_level1" string="Línea" context="{'group_by':'asset_level1'}"/>
                        <filter name="group_by_asset_id" string="Máquina" context="{'group_by':'asset_id'}"/>
                        <separator/>
                        <filter name="group_by_date" string="Fecha" context="{'group_by':'date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de mantenimiento</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'default_param_order_type_code': 'C'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo
                </p>
                <p>
                    Esta lista está pensada para realizar consultas sobre todos los tipos de órdenes, no se deberían crear desde aquí (si se crean serán de tipo Correctivo).
                </p>
            </field>
        </record>

        <record id="pending_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento pendientes</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="priority, date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asigned_employee_id"/>
                    <field name="asset_id"/>
                    <field name="origin_employee_id"/>
                    <field name="work_shift"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="finished_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento finalizadas</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="end_date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asigned_employee_id"/>
                    <field name="asset_id"/>
                    <field name="origin_employee_id"/>
                    <field name="state"/>
                    <field name="end_date" string="Fecha fin"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="prev_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="asset_id" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asset_id"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="color_index" invisible="1"/>
                    <field name="preventive_barcode" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="prev_pending_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento pendientes</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="asset_id" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asset_id"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="color_index" invisible="1"/>
                    <field name="preventive_barcode" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="prev_finished_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Lista de órdenes de mantenimiento finalizadas</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="end_date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_level1"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asset_id"/>
                    <field name="end_date" string="Fecha fin"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                    <field name="preventive_barcode" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="calibration_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Órdenes de calibraciones</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="calibration_date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="asset_id"/>
                    <field name="code"/>
                    <field name="date"/>
                    <field name="state"/>
                    <field name="calibrator_id"/>
                    <field name="calibration_date" string="Fecha calib."/>
                    <field name="next_calibration_date" string="Fecha próxima"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="asset_prev_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Órdenes de preventivo de la máquina</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="end_date" string="Fecha fin"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                    <field name="preventive_barcode" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="asset_corr_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Órdenes de correctivo de la máquina</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="origin_employee_id"/>
                    <field name="asigned_employee_id"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="end_date" string="Fecha fin"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="asset_regul_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Inspecciones reglamentarias de la máquina</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="asigned_employee_id"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="end_date" string="Fecha fin"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="asset_calibration_maintenance_order_list_view" model="ir.ui.view">
            <field name="name">Calibraciones de la máquina</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="calibration_date desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="state"/>
                    <field name="calibrator_id"/>
                    <field name="calibration_date" string="Fecha calib."/>
                    <field name="next_calibration_date" string="Fecha próxima"/>
                    <field name="color_index" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="maintenance_order_analysis_list_view" model="ir.ui.view">
            <field name="name">Lista de análisis de órdenes de mantenimiento</field>
            <field name="model">sigma2.maintenance.order</field>
            <field name="arch" type="xml">
                <tree default_order="repair_time desc" colors="black:color_index == 0; red:color_index == 1; orange:color_index == 2; blue:color_index == 3; lightgreen:color_index == 4; grey:color_index == 5; green:color_index == 6; purple:color_index == 7; magenta:color_index == 8;">
                    <field name="date"/>
                    <field name="description"/>
                    <field name="solution_description"/>
                    <field name="repair_time" string="Tiempo rep."/>
                    <field name="stop_time" string="Tiempo paro"/>
                    <field name="color_index" invisible="1"/>
                    <field name="state" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de preventivo</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="prev_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_preventive': 1, 'default_param_order_type_code': 'P'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento preventivo
                </p>
                <p>
                    Las órdenes de preventivo se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="pend_prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de preventivo pendientes</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="prev_pending_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_preventive': 1, 'search_default_filter_pending': 1, 'search_default_filter_planned': 1, 'search_default_filter_open': 1, 'default_param_order_type_code': 'P'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento preventivo 
                </p>
                <p>
                    Las órdenes de preventivo se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="finished_regul_prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de inspecciones reglamentarias realizadas</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="finished_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_regulatory': 1, 'search_default_filter_finished': 1, 'search_default_filter_closed': 1, 'default_param_order_type_code': 'L'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de inspección reglamentaria
                </p>
                <p>
                    Las órdenes de inspecciones reglamentarias se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="pend_regul_prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de inspecciones reglamentarias</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="prev_pending_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_regulatory': 1, 'search_default_filter_pending': 1, 'search_default_filter_planned': 1, 'search_default_filter_open': 1, 'default_param_order_type_code': 'L'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de inspección reglamentaria
                </p>
                <p>
                    Las órdenes de inspecciones reglamentarias se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="finished_calibration_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Calibraciones realizadas</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="calibration_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_calibration': 1, 'search_default_filter_finished': 1, 'search_default_filter_closed': 1, 'default_param_order_type_code': 'CAL'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de calibración
                </p>
                <p>
                    Las órdenes de calibraciones se generan automáticamente a partir de las gamas de mantenimiento preventivo.
                </p>
            </field>
        </record>

        <record id="pend_calibration_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Calibraciones pendientes</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="calibration_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_calibration': 1, 'search_default_filter_pending': 1, 'search_default_filter_planned': 1, 'search_default_filter_open': 1, 'default_param_order_type_code': 'CAL'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de calibración
                </p>
                <p>
                    Las órdenes de calibraciones se generan automáticamente a partir de las gamas de mantenimiento preventivo.
                </p>
            </field>
        </record>

        <record id="corr_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de correctivo</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_corrective': 1, 'default_param_order_type_code': 'C'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo 
                </p>
                <p>
                    Las órdenes de correctivo se crean cuando surge una incidencia o avería en producción que requiere de la intervención de mantenimiento.
                </p>
            </field>
        </record>

        <record id="pend_corr_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de correctivo pendientes</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="pending_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_corrective': 1, 'search_default_filter_pending': 1, 'search_default_filter_planned': 1, 'search_default_filter_open': 1, 'search_default_filter_parts': 1, 'search_default_filter_scaled': 1, 'default_param_order_type_code': 'C'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo
                </p>
                <p>
                    Las órdenes de correctivo se crean cuando surge una incidencia o avería en producción que requiere de la intervención de mantenimiento.
                </p>
            </field>
        </record>

        <record id="finished_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes realizadas</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="finished_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_corrective': 1, 'search_default_filter_improvement': 1, 'search_default_filter_finished': 1, 'search_default_filter_closed': 1, 'default_param_order_type_code': 'C'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo
                </p>
                <p>
                    Las órdenes de correctivo se crean cuando surge una incidencia o avería en producción que requiere de la intervención de mantenimiento.
                </p>
            </field>
        </record>

        <record id="improv_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Propuestas de mejora</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_improvement': 1, 'default_param_order_type_code': 'M'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una propuesta de mejora
                </p>
                <p>
                    Las propuestas de mejora se crean cuando se detecta un punto de mejora en la producción, la máquina, la seguridad o de cualquier otro tipo que se desee canalizar a través de mantenimiento.
                </p>
            </field>
        </record>

        <record id="pend_improv_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Propuestas de mejora pendientes</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="pending_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_improvement': 1, 'search_default_filter_pending': 1, 'search_default_filter_planned': 1, 'search_default_filter_open': 1, 'search_default_filter_parts': 1, 'search_default_filter_scaled': 1, 'default_param_order_type_code': 'M'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una propuesta de mejora
                </p>
                <p>
                    Las propuestas de mejora se crean cuando se detecta un punto de mejora en la producción, la máquina, la seguridad o de cualquier otro tipo que se desee canalizar a través de mantenimiento.
                </p>
            </field>
        </record>

        <record id="maintenance_order_analysis_list_action" model="ir.actions.act_window">
            <field name="name">Análisis de órdenes</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="maintenance_order_analysis_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_filter_corrective': 1, 'search_default_filter_finished': 1, 'search_default_filter_closed': 1, 'search_default_group_by_asset_level1':1, 'default_param_order_type_code': 'C'}</field>
            <field name="limit">100</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo
                </p>
                <p>
                    Las órdenes de correctivo se crean cuando surge una incidencia o avería en producción que requiere de la intervención de mantenimiento.
                </p>
            </field>
        </record>

        <record id="asset_prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de preventivo</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="asset_prev_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_asset_id': [active_id], 'search_default_filter_preventive': 1, 'default_param_order_type_code': 'P'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento preventivo
                </p>
                <p>
                    Las órdenes de preventivo se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="asset_corr_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Órdenes de correctivo</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="asset_corr_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_asset_id': [active_id], 'search_default_filter_corrective': 1, 'default_param_order_type_code': 'C'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de mantenimiento correctivo
                </p>
                <p>
                    Las órdenes de correctivo se crean cuando surge una incidencia o avería en producción que requiere de la intervención de mantenimiento.
                </p>
            </field>
        </record>

        <record id="asset_regul_prev_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Inspecciones reglamentarias</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="asset_regul_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_asset_id': [active_id], 'search_default_filter_regulatory': 1, 'default_param_order_type_code': 'L'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de inspección reglamentaria
                </p>
                <p>
                    Las órdenes de inspecciones reglamentarias se generan automáticamente a partir de las gamas de mantenimiento.
                </p>
            </field>
        </record>

        <record id="asset_calibration_maintenance_order_list_action" model="ir.actions.act_window">
            <field name="name">Calibraciones realizadas</field>
            <field name="res_model">sigma2.maintenance.order</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="asset_calibration_maintenance_order_list_view"/>
            <field name="search_view_id" ref="maintenance_order_search_view"/>
            <field name="context">{'search_default_asset_id': [active_id], 'search_default_filter_calibration': 1, 'default_param_order_type_code': 'CAL'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click para crear una orden de calibración
                </p>
                <p>
                    Las órdenes de calibraciones se generan automáticamente a partir de las gamas de mantenimiento preventivo.
                </p>
            </field>
        </record>

        <record id="maintenance_order_list_asset_form_button_view" model="ir.ui.view">
            <field name="name">Formulario activo (Botón de órdenes)</field>
            <field name="model">sigma2.asset</field>
            <field name="inherit_id" ref="asset_form_view" />
            <field name="priority" eval="21"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='buttons']" position="inside">
                    <button type="action" class="oe_stat_button" name="%(sigma2.asset_prev_maintenance_order_list_action)d" icon="fa-list">
                        <div>Preventivo</div>
                    </button>
                    <button type="action" class="oe_stat_button" name="%(sigma2.asset_corr_maintenance_order_list_action)d" icon="fa-list">
                        <div>Correctivo</div>
                    </button>
                    <button type="action" class="oe_stat_button" name="%(sigma2.asset_regul_prev_maintenance_order_list_action)d" icon="fa-list">
                        <div>Insp. reglam.</div>
                    </button>
                    <button type="action" class="oe_stat_button" name="%(sigma2.asset_calibration_maintenance_order_list_action)d" icon="fa-list">
                        <div>Calibraciones</div>
                    </button>
                </xpath>
            </field>
        </record>

    </data>
</openerp>
